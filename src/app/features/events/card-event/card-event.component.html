<article class="event-card shadow-sm" appChangeBackgroundDirective>
  <div class="event-image">
    <img [src]="e.imageUrl" alt="{{ e.title }}" />
    <div class="pill price">üí∞ {{ e.price | currency:'TND':'symbol-narrow' }}</div>
    <div class="pill seats" [class.sold-out]="e.nbPlaces===0">
      üéü {{ e.nbPlaces === 0 ? 'Complet' : e.nbPlaces + ' places' }}
    </div>
  </div>

  <div class="event-body">
    <div class="event-header">
      <h5 [ngStyle]="{'color': e.nbrLike > 2 ? '#ff6b35' : '#0f172a'}">{{ e.title }}</h5>
      <div class="likes">
        <button *ngIf="showLike"
                class="btn btn-sm btn-outline-danger"
                (click)="sendDataToParent(e)"
                [disabled]="isExpired(e)">
          ‚ù§Ô∏è
        </button>
        <span class="count">{{ e.nbrLike }}</span>
      </div>
    </div>

    <div class="event-meta">
      <span><i class="fa-regular fa-calendar"></i> {{ e.date | date }}</span>
      <span><i class="fa-solid fa-location-dot"></i> {{ e.location }}</span>
    </div>

    <p class="event-description">{{ e.description }}</p>

    <div class="event-actions">
      <a [routerLink]="['/events/event-details', e.id]" class="btn btn-outline-primary btn-sm">D√©tails</a>
      <button [routerLink]="['/events/participate', e.id, e.price]" class="btn btn-success btn-sm">Participer</button>
      <button class="btn btn-danger btn-sm" (click)="deleteEvent(e)">Supprimer</button>
      <button class="btn btn-warning btn-sm" [routerLink]="['/events/add-event', e.id]">Modifier</button>
    </div>
  </div>
</article>
